<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>CRUD</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65"
      crossorigin="anonymous"
    />
    <!-- CSS -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/alertifyjs@1.14.0/build/css/alertify.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/alertifyjs@1.14.0/build/css/themes/default.min.css"
    />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="css/styles.css">
  </head>
  <body>
    <div id="divCaficultores" class="container mt-4 shadow-lg p-3 mb-5 bg-body rounded">
      <div style="display:flex">
        <button id="btnCrear" class="btn btn-primary me-2" data-bs-toggle="modal">
          Crear Caficultor
        </button>
        <input id="buscar" type="text" maxlength="100" class="form-control" style="text-align:rigth; width:50%" 
          onkeyup="filterByText()" placeholder="Buscar..."/>
      </div>
      <table id="tablaCaficultores" class="table mt-2 table-bordered table-striped">
        <thead>
          <tr class="text-center">
            <th>ID</th>
            <th>Nombre</th>
            <th>Identificación</th>
            <th>Ciudad</th>
            <th>Acciones</th>
          </tr>
        </thead>
        <tbody id="tbodyCaficultores"></tbody>
      </table>
    </div>

    <div
      id="modalCaficultor"
      class="modal fade"
      tabindex="-1"
      aria-labelledby="labelCaficultor"
      aria-hidden="true"
    >
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header bg-primary text-white">
            <h1 class="modal-title fs-5" id="labelCaficultor">Caficultor</h1>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <form>
              <div class="mb-3">
                <label for="message-text" class="col-form-label">ID:</label>
                <input id="id_caficultor" type="number" min="9000001" max="9999999" minlength="7" maxlength="7" class="form-control" 
                  onkeydown="return filterNumericInput(event, this)" onblur="validateInput(this)"/>
                <small class="error text-danger" style="display:none"></small>
              </div>
              <div class="mb-3">
                <label for="recipient-name" class="col-form-label">Nombre:</label>
                <input id="nombre" type="text" minlength="4" maxlength="100" class="form-control" 
                  onkeydown="return filterTextInput(event, this, ['Alpha'])" onblur="validateInput(this)"/>
                <small class="error text-danger" style="display:none"></small>
              </div>
              <div class="mb-3">
                <label for="recipient-name" class="col-form-label">Identificación:</label>
                <input id="identificacion" type="text" minlength="4" maxlength="20" class="form-control" 
                  onkeydown="return filterTextInput(event, this, ['Numeric'])" onblur="validateInput(this)"/>
                <small class="error text-danger" style="display:none"></small>
              </div>
              <div class="mb-3">
                <label for="recipient-name" class="col-form-label">Ciudad:</label>
                <input id="ciudad" type="text" minlength="2" maxlength="50" class="form-control" 
                  onkeydown="return filterTextInput(event, this, ['Alpha'])" onblur="validateInput(this)"/>
                <small class="error text-danger" style="display:none"></small>
              </div>
              <div class="modal-footer">
                <button
                  type="button"
                  class="btn btn-secondary"
                  data-bs-dismiss="modal"
                >
                  Cerrar
                </button>
                <button type="submit" class="btn btn-primary">
                  Guardar
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>

    <div id="divProductos" class="container mt-4 shadow-lg p-3 mb-5 bg-body rounded" style="display:none">
      <button id="btnCerrarProds" class="btnCerrarProds btn btn-primary cus-style-1">
        <i class="bi bi-box-arrow-left"></i>
      </button>
      <button id="btnCrearProducto" class="btn btn-primary cus-style-1" data-bs-toggle="modal">
        Crear Producto
      </button>
      <div class="mb-3">
        <label id="labelIdCaficultor" for="recipient-name" class="col-form-label" style="font-size:20px"></label>
      </div>
      <table id="tablaProductos" class="table mt-2 table-bordered table-striped">
        <thead>
          <tr class="text-center">
            <th>ID</th>
            <th>Tipo Producto</th>
            <th>Número de Cuenta</th>
            <th>Acciones</th>
          </tr>
        </thead>
        <tbody id="tbodyProds"></tbody>
      </table>
    </div>

    <div
      id="modalProducto"
      class="modal fade"
      tabindex="-1"
      aria-labelledby="labelProducto"
      aria-hidden="true"
    >
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header cus-style-1">
            <h1 class="modal-title fs-5 style1" id="labelProducto" >Producto</h1>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <form id="formProducto">
              <div class="mb-3">
                <label for="message-text" class="col-form-label">ID:</label>
                <input id="id_producto" type="number" min="2000001" max="2999999" minlength="7" maxlength="7" class="form-control" 
                  onkeydown="return filterNumericInput(event, this)" onblur="validateInput(this)"/>
                <small class="error text-danger" style="display:none"></small>
              </div>
              <div class="mb-3">
                <label for="recipient-name" class="col-form-label">Tipo de Producto:</label>
                <select id="tipo_producto" type="text" class="form-control">
                  <option value="AgroAhorros">AgroAhorros</option>
                  <option value="AgroCorriente">AgroCorriente</option>
                  <option value="AgroDebito">AgroDebito</option>
                </select>
              </div>
              <div class="mb-3">
                <label for="recipient-name" class="col-form-label">Número de Cuenta:</label>
                <input id="numero_cuenta" type="text" minlength="12" maxlength="12" class="form-control" 
                  onkeydown="return filterTextInput(event, this, ['Numeric'])" onblur="validateInput(this)"/>
                <small class="error text-danger" style="display:none"></small>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                  Cerrar
                </button>
                <button type="submit" class="btn btn-primary cus-style-1">
                  Guardar
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>

    <div id="divAbonos" class="container mt-4 shadow-lg p-3 mb-5 bg-body rounded" style="display:none">
      <button id="btnCerrarAbonos" class="btnCerrarAbonos btn btn-primary cus-style-2">
        <i class="bi bi-box-arrow-left"></i>
      </button>
      <button id="btnCrearAbono" class="btn btn-primary cus-style-2" data-bs-toggle="modal">
        Crear Abono a Monedero
      </button>
      <div class="d-flex">
        <div class="mb-3" style="flex:1">
          <label id="labelIdCaficultorEnAbono" for="recipient-name" class="col-form-label" style="font-size:20px; width:50%"></label>
          <label id="labelSaldoMonedero" for="recipient-name" class="col-form-label"  style="text-align:rigth; width:50%"></label>
        </div>
        <div class="mb-3" style="flex:1">
          <div class="row mb-3">
            <label for="recipient-name" class="col-sm-4 col-form-label">Fecha Inicial:</label>
            <div class="col-sm-4">
              <input id="fechaInicial" type="date" class="form-control"/>
            </div>
          </div>
          <div class="row mb-3">
            <label for="recipient-name" class="col-sm-4 col-form-label">Fecha Final:</label>
            <div class="col-sm-4">
              <input id="fechaFinal" type="date" class="form-control"/>
            </div>
            <button class="btn btn-primary cus-style-2 col-sm-4" onclick="filterByDate()">Filtrar</button>
          </div>
        </div>
      </div>
      <table id="tablaAbonos" class="table mt-2 table-bordered table-striped">
        <thead>
          <tr class="text-center">
            <th>ID</th>
            <th>Valor del Abono</th>
            <th>Fecha del Abono</th>
            <th>Acciones</th>
          </tr>
        </thead>
        <tbody id="tbodyAbonos"></tbody>
      </table>
    </div>

    <div
      id="modalAbono"
      class="modal fade"
      tabindex="-1"
      aria-labelledby="labelAbono"
      aria-hidden="true"
    >
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header cus-style-2">
            <h1 class="modal-title fs-5 style1" id="labelAbono" >Abono a Monedero</h1>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <form id="formAbono">
              <div class="mb-3">
                <label for="message-text" class="col-form-label">ID:</label>
                <input id="id_abono" type="number" min="30000001" max="39999999" minlength="8" maxlength="8" class="form-control" 
                  onkeydown="return filterNumericInput(event, this)" onblur="validateInput(this)"/>
                <small class="error text-danger" style="display:none"></small>
              </div>
              <div class="mb-3">
                <label for="recipient-name" class="col-form-label">Valor:</label>
                <input id="valor_abono" type="number" min="1000" max="10000000" maxlength="8" class="form-control" onpaste="this.value = parseInt(this.value)" 
                  onkeydown="return filterNumericInput(event, this)" onblur="validateInput(this)"/>
                <small class="error text-danger" style="display:none"></small>
              </div>
              <div class="mb-3">
                <label for="recipient-name" class="col-form-label">Fecha:</label>
                <input id="fecha_abono" type="date" class="form-control" />
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                  Cerrar
                </button>
                <button type="submit" class="btn btn-primary cus-style-2">
                  Guardar
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
      crossorigin="anonymous"
    ></script>
    <script src="https://cdn.jsdelivr.net/npm/alertifyjs@1.14.0/build/alertify.min.js"></script>
    <script src="js/app.js"></script>
  </body>
</html>
